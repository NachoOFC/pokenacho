const l=document.getElementById("ruleta");let c="";const m=document.documentElement;let s=!1;const d=document.getElementById("premio");var u=new bootstrap.Modal(document.getElementById("myModal"),{keyboard:!1});document.getElementById("btnGirar").addEventListener("click",()=>I());const p=["3b65b2","facb00","c4a100","1b285f","facb00","c4a100","3b65b2","c4a100","facb00","c4a100"],b={nombre:"Pokémon raro",probabilidad:10},f={nombre:"Pokémon común",probabilidad:10},g={nombre:"objeto",probabilidad:10},y={nombre:"Pokémon especial",probabilidad:10},h={nombre:"Pokémon comun",probabilidad:10},P={nombre:"objeto",probabilidad:10},M={nombre:"Pokémon raro",probabilidad:10},E={nombre:"objeto",probabilidad:10},$={nombre:"Pokémon común",probabilidad:10},k={nombre:"objeto",probabilidad:10};let i=[b,f,g,y,h,P,M,E,$,k];function x(){const t=document.createElement("div");t.id="opcionesContainer",l.appendChild(t);let o=0;i.forEach((a,e)=>{const r=document.createElement("div");r.classList.add("opcion"),t.appendChild(r),r.style=`background-color: #${p[e]};
		transform:rotate( ${C(o)}deg);
		${j(a.probabilidad)}
		`,o+=a.probabilidad})}function j(t){if(t===100)return"";if(t>=87.5)return`clip-path: polygon(50% 0%, 100% 0, 100% 100%, 0 100%, 0 0, ${Math.tan(n(t))*50+50}% 0, 50% 50%)`;if(t>=75)return`clip-path: polygon(50% 0%, 100% 0, 100% 100%, 0 100%, 0% ${100-(Math.tan(n(t-75))*50+50)}%, 50% 50%)`;if(t>=62.5)return`clip-path: polygon(50% 0%, 100% 0, 100% 100%, 0 100%, 0% ${100-(.5-.5/Math.tan(n(t)))*100}%, 50% 50%)`;if(t>=50)return`clip-path: polygon(50% 0, 100% 0, 100% 100%, ${100-(Math.tan(n(t))*50+50)}% 100%, 50% 50%)`;if(t>=37.5)return`clip-path: polygon(50% 0, 100% 0, 100% 100%, ${100-(Math.tan(n(t))*50+50)}% 100%, 50% 50%)`;if(t>=25)return`clip-path: polygon(50% 0, 100% 0, 100% ${Math.tan(n(t-25))*50+50}%, 50% 50%)`;if(t>=12.5)return`clip-path: polygon(50% 0, 100% 0, 100% ${(.5-.5/Math.tan(n(t)))*100}%, 50% 50%)`;if(t>=0)return`clip-path: polygon(50% 0, ${Math.tan(n(t))*50+50}% 0, 50% 50%)`}function v(t){var o=window.getComputedStyle(t,null),a=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("-moz-transform")||o.getPropertyValue("-ms-transform")||o.getPropertyValue("-o-transform")||o.getPropertyValue("transform")||"none";if(a!="none"){var e=a.split("(")[1].split(")")[0].split(","),r=Math.round(Math.atan2(e[1],e[0])*(180/Math.PI));return r<0?r+360:r}return 0}function C(t){return t*360/100}function n(t){return t/100*2*Math.PI}function I(){if(s)return;s=!0;const t=Math.random();let o=0;l.classList.toggle("girar",!0),i.forEach(e=>{t*100>=o&&t<o+e.probabilidad&&(c=e.nombre),o+=e.probabilidad});const a=10*360+(1-t*360);m.style.setProperty("--giroRuleta",a+"deg")}l.addEventListener("animationend",()=>{l.style.transform="rotate("+v(l)+"deg)",d.textContent=c,s=!1,l.classList.toggle("girar",!1),u.show()});x();